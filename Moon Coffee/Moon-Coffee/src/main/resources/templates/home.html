<!DOCTYPE html>
<html lang="vi" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Moon Coffee - Premium</title>
    <link href="https://fonts.googleapis.com/css2?family=Nunito:wght@400;600;700&family=Oswald:wght@500;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">

    <style>
        /* --- 1. CẤU HÌNH THEME PREMIUM --- */
        :root {
            --primary-color: #0f2c38; /* Xanh cổ vịt đậm */
            --accent-color: #c5a065;  /* Vàng đồng */
            --bg-color: #f4f6f8;
            --white: #ffffff;
            --text-color: #333;
        }

        * { margin: 0; padding: 0; box-sizing: border-box; }
        body { background-color: var(--bg-color); color: var(--text-color); font-family: 'Nunito', sans-serif; }

        /* --- 2. HEADER --- */
        header {
            background: var(--white); padding: 15px 50px;
            display: flex; justify-content: space-between; align-items: center;
            box-shadow: 0 5px 20px rgba(0,0,0,0.05); position: sticky; top: 0; z-index: 100;
        }
        .logo {
            font-family: 'Oswald', sans-serif; font-size: 26px; font-weight: bold;
            color: var(--primary-color); text-decoration: none; text-transform: uppercase; letter-spacing: 1px;
        }
        .logo span { color: var(--accent-color); }

        .nav-btn {
            padding: 10px 25px; border-radius: 4px; text-decoration: none; font-weight: 700; transition: 0.3s;
            background: var(--primary-color); color: var(--accent-color);
            font-size: 13px; text-transform: uppercase; letter-spacing: 1px;
        }
        .nav-btn:hover { background: var(--accent-color); color: var(--primary-color); }

        /* --- 3. BANNER --- */
        .banner {
            background: linear-gradient(rgba(15, 44, 56, 0.8), rgba(15, 44, 56, 0.6)), url('https://images.unsplash.com/photo-1495474472287-4d71bcdd2085?q=80&w=2070');
            background-size: cover; background-position: center;
            height: 420px; display: flex; flex-direction: column; align-items: center; justify-content: center;
            color: var(--white); text-align: center; padding: 20px;
        }
        .banner h1 {
            font-family: 'Oswald', sans-serif; font-size: 48px; margin-bottom: 15px;
            text-transform: uppercase; letter-spacing: 2px; text-shadow: 0 2px 10px rgba(0,0,0,0.3);
        }
        .banner p { font-size: 16px; margin-bottom: 30px; opacity: 0.9; font-weight: 300; letter-spacing: 0.5px; }

        .search-box {
            background: rgba(255,255,255,0.15); padding: 6px; border-radius: 50px;
            display: flex; width: 600px; max-width: 100%;
            border: 1px solid rgba(255,255,255,0.3); backdrop-filter: blur(5px);
        }
        .search-box input {
            background: transparent; border: none; outline: none; flex: 1; padding: 0 20px;
            font-size: 15px; color: white;
        }
        .search-box input::placeholder { color: rgba(255,255,255,0.7); }
        .search-box button {
            background: var(--accent-color); color: var(--primary-color); border: none; padding: 12px 35px;
            border-radius: 50px; cursor: pointer; font-weight: 700; transition: 0.3s; text-transform: uppercase; font-size: 13px;
        }
        .search-box button:hover { background: var(--white); }

        /* --- 4. DANH MỤC --- */
        .category-bar {
            display: flex; justify-content: center; gap: 12px; margin: -25px 0 50px; flex-wrap: wrap; padding: 0 20px;
        }
        .cat-item {
            padding: 12px 30px; background: var(--white); border-radius: 50px;
            text-decoration: none; color: var(--primary-color); font-weight: 700; transition: 0.3s;
            box-shadow: 0 10px 20px rgba(0,0,0,0.05); font-size: 13px; text-transform: uppercase;
            border: 2px solid transparent;
        }
        .cat-item:hover, .cat-item.active {
            background: var(--primary-color); color: var(--accent-color);
            border-color: var(--accent-color); transform: translateY(-5px);
            box-shadow: 0 15px 25px rgba(15, 44, 56, 0.3);
        }

        /* --- 5. SẢN PHẨM --- */
        .container { max-width: 1200px; margin: 0 auto 60px; padding: 0 20px; }
        .section-title {
            text-align: center; margin-bottom: 50px; font-size: 32px;
            color: var(--primary-color); font-family: 'Oswald', sans-serif; text-transform: uppercase; letter-spacing: 1px;
            position: relative; display: inline-block; width: 100%;
        }
        .section-title::after {
            content: ''; display: block; width: 50px; height: 3px;
            background: var(--accent-color); margin: 15px auto 0;
        }
        .product-grid { display: grid; grid-template-columns: repeat(auto-fill, minmax(260px, 1fr)); gap: 30px; }

        .product-card {
            background: var(--white); border-radius: 8px; overflow: hidden;
            box-shadow: 0 5px 15px rgba(0,0,0,0.03); transition: 0.4s;
            display: flex; flex-direction: column; height: 100%; border: 1px solid transparent;
        }
        .product-card:hover {
            transform: translateY(-10px); box-shadow: 0 20px 40px rgba(0,0,0,0.1); border-color: var(--accent-color);
        }
        .product-img { width: 100%; height: 250px; object-fit: cover; border-bottom: 3px solid var(--accent-color); }
        .product-info { padding: 25px 20px; flex: 1; display: flex; flex-direction: column; text-align: center; }

        .category-tag { font-size: 11px; color: #888; font-weight: 800; text-transform: uppercase; letter-spacing: 1px; margin-bottom: 10px; }
        .product-name { font-size: 18px; font-weight: 800; margin-bottom: 8px; color: var(--primary-color); font-family: 'Nunito', sans-serif; }
        .product-price { font-size: 16px; color: var(--accent-color); font-weight: 700; margin-bottom: 20px; }

        .btn-add-cart {
            margin-top: auto; width: 100%; padding: 10px;
            background: transparent; color: var(--primary-color);
            border: 2px solid var(--primary-color); border-radius: 4px;
            font-weight: 700; cursor: pointer; transition: 0.3s;
            display: flex; align-items: center; justify-content: center; gap: 8px;
            text-decoration: none; text-transform: uppercase; font-size: 12px; letter-spacing: 1px;
        }
        .btn-add-cart:hover { background: var(--primary-color); color: var(--white); }

        .no-result { grid-column: 1 / -1; text-align: center; padding: 50px; color: #888; }
        .back-link { color: var(--accent-color); font-weight: bold; text-decoration: none; margin-top: 15px; display: inline-block; }

        /* --- 6. FOOTER (MỚI THÊM VÀO) --- */
        footer {
            background-color: var(--primary-color); /* Nền xanh đậm */
            color: rgba(255,255,255,0.8);
            padding: 60px 0 20px;
            margin-top: 50px;
            border-top: 5px solid var(--accent-color); /* Viền vàng sang trọng */
        }
        .footer-container {
            max-width: 1200px; margin: 0 auto; padding: 0 20px;
            display: grid; grid-template-columns: 1.5fr 1.5fr 1fr; /* Chia 3 cột */
            gap: 40px;
        }
        .footer-col h3 {
            font-family: 'Oswald', sans-serif; font-size: 18px; color: var(--accent-color);
            margin-bottom: 20px; text-transform: uppercase; letter-spacing: 1px;
        }
        .footer-logo {
            font-family: 'Oswald', sans-serif; font-size: 32px; font-weight: bold;
            color: var(--white); text-decoration: none; display: block; margin-bottom: 15px;
        }
        .footer-logo span { color: var(--accent-color); }
        .footer-col p { margin-bottom: 12px; font-size: 14px; line-height: 1.6; display: flex; align-items: flex-start; gap: 10px; }
        .footer-col i { color: var(--accent-color); margin-top: 3px; }

        .footer-col ul { list-style: none; }
        .footer-col ul li { margin-bottom: 10px; }
        .footer-col ul li a {
            color: rgba(255,255,255,0.8); text-decoration: none; font-size: 14px; transition: 0.3s;
        }
        .footer-col ul li a:hover { color: var(--accent-color); padding-left: 5px; }

        .social-icons { margin-top: 20px; font-size: 20px; display: flex; gap: 15px; }
        .social-icons i { cursor: pointer; transition: 0.3s; color: var(--white); }
        .social-icons i:hover { color: var(--accent-color); transform: translateY(-3px); }

        .copyright {
            text-align: center; border-top: 1px solid rgba(255,255,255,0.1);
            margin-top: 50px; padding-top: 20px; font-size: 13px; opacity: 0.6;
        }

        @media (max-width: 768px) {
            .footer-container { grid-template-columns: 1fr; gap: 30px; }
        }
    </style>
</head>
<body>

<header>
    <a href="/" class="logo"><i class="fas fa-moon"></i> Moon <span>Coffee</span></a>
    <div>
        <a href="/login" class="nav-btn"><i class="fas fa-user-shield"></i> Quản Lý</a>
    </div>
</header>

<div class="banner">
    <h1>Thưởng thức tinh hoa cà phê</h1>
    <p>Không gian sang trọng & Hương vị đẳng cấp</p>

    <form action="/" method="get" class="search-box">
        <input type="text" name="keyword" placeholder="Bạn muốn tìm món gì? (Ví dụ: Latte...)" th:value="${param.keyword}" autocomplete="off">
        <button type="submit"><i class="fas fa-search"></i> Tìm kiếm</button>
    </form>
</div>

<div class="category-bar">
    <a href="/" class="cat-item" th:classappend="${currentCategoryId == null} ? 'active'">
        <i class="fas fa-border-all"></i> Tất cả
    </a>
    <a th:each="cat : ${categories}"
       th:href="@{/(categoryId=${cat.id})}"
       class="cat-item"
       th:classappend="${currentCategoryId == cat.id} ? 'active'">
        <span th:text="${cat.name}">Danh Mục</span>
    </a>
</div>

<div class="container">
    <h2 class="section-title" th:if="${currentCategoryId == null && param.keyword == null}">Thực Đơn Hôm Nay</h2>
    <h2 class="section-title" th:if="${param.keyword != null}">Kết quả tìm kiếm: "<span th:text="${param.keyword}"></span>"</h2>

    <div class="product-grid">
        <div th:if="${products.empty}" class="no-result">
            <h3>Không tìm thấy món nào!</h3>
            <a href="/" class="back-link">Xem tất cả menu</a>
        </div>

        <div class="product-card" th:each="p : ${products}">
            <img th:if="${p.imageName != null}" th:src="@{'/images/products/' + ${p.imageName}}" class="product-img" alt="Ảnh sản phẩm">
            <img th:if="${p.imageName == null}" src="https://images.unsplash.com/photo-1541167760496-1628856ab772?q=80&w=1937" class="product-img" alt="Ảnh mặc định">

            <div class="product-info">
                <div class="category-tag" th:text="${p.category != null ? p.category.name : 'Khác'}">CATEGORY</div>
                <h3 class="product-name" th:text="${p.name}">Tên món</h3>
                <p class="product-price" th:text="${#numbers.formatDecimal(p.price, 0, 'POINT', 0, 'POINT')} + ' đ'">0 đ</p>

                <a th:href="@{/cart/add/{id}(id=${p.id})}" class="btn-add-cart">
                    <i class="fas fa-plus"></i> Thêm vào giỏ
                </a>
            </div>
        </div>
    </div>
</div>

<footer>
    <div class="footer-container">
        <div class="footer-col">
            <a href="#" class="footer-logo">MOON <span>COFFEE</span></a>
            <p>HÀNH TRÌNH CHINH PHỤC PHONG VỊ MỚI.</p>
            <p>Moon Coffee không ngừng theo đuổi sứ mệnh mang hương vị cà phê nguyên bản và không gian thưởng thức tuyệt hảo nhất đến với khách hàng.</p>
            <div class="social-icons">
                <i class="fab fa-facebook-square"></i>
                <i class="fab fa-instagram"></i>
                <i class="fab fa-tiktok"></i>
            </div>
        </div>

        <div class="footer-col">
            <h3>LIÊN HỆ</h3>
            <p><i class="fas fa-map-marker-alt"></i> <span><strong>Trụ sở chính:</strong> 96-98 Đường Ngân Hà, Quận 1, TP.HCM</span></p>
            <p><i class="fas fa-store"></i> <span><strong>Chi nhánh 2:</strong> 123 Đại Lộ Ánh Trăng, Hà Nội</span></p>
            <p><i class="fas fa-envelope"></i> <span>contact@mooncoffee.vn</span></p>
            <p><i class="fas fa-phone-alt"></i> <span>Hotline: 1900 8888</span></p>
        </div>

        <div class="footer-col">
            <h3>CHÍNH SÁCH HỖ TRỢ</h3>
            <ul>
                <li><a href="#">> Quy chế hoạt động</a></li>
                <li><a href="#">> Chính sách bảo mật</a></li>
                <li><a href="#">> Chính sách thành viên</a></li>
                <li><a href="#">> Hợp tác nhượng quyền</a></li>
            </ul>
        </div>
    </div>

    <div class="copyright">
        &copy; 2025 Moon Coffee. All rights reserved. Thiết kế bởi Tuan Nguyen.
    </div>
</footer>
</body>
</html>